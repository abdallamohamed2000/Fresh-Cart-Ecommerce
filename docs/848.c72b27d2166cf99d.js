"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[848],{848:(g,d,i)=>{i.r(d),i.d(d,{AllordersComponent:()=>U});var u=i(1120),c=i(8129),n=i(6814),t=i(4769),h=i(9410),s=i(0);const l=function(r){return["/productdetails",r]};function m(r,a){if(1&r&&(t.TgZ(0,"tr")(1,"td")(2,"div",26),t._UZ(3,"img",27),t.ALo(4,"cuttext"),t.TgZ(5,"span",28),t._uU(6),t.ALo(7,"cuttext"),t.qZA()()(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td")(12,"div",29)(13,"p",30),t._uU(14),t.qZA()()()()),2&r){const e=a.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(15,l,e.product.id)),t.xp6(1),t.Q6J("src",e.product.imageCover,t.LSH)("alt",t.xi3(4,6,e.product.title,2)),t.xp6(3),t.Oqu(t.xi3(7,9,e.product.title,2)),t.xp6(3),t.Oqu(t.xi3(10,12,e.price,"EUR")),t.xp6(5),t.Oqu(e.count)}}const p=function(r,a){return{"bg-success":r,"bg-danger":a}};function Z(r,a){if(1&r&&(t.TgZ(0,"section",3)(1,"div",4)(2,"div",5)(3,"div")(4,"p",6),t._uU(5),t.qZA(),t.TgZ(6,"p",7),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Payment Method: "),t.TgZ(11,"span",8),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"span",12),t._uU(17,"isPaid: "),t.qZA(),t.TgZ(18,"span",13),t._uU(19),t.qZA()(),t.TgZ(20,"div",14)(21,"span",12),t._uU(22,"isDelivered: "),t.qZA(),t.TgZ(23,"span",13),t._uU(24),t.qZA()()()()(),t.TgZ(25,"div")(26,"div",15)(27,"div",4)(28,"div",9)(29,"div",16)(30,"h3",17),t._uU(31,"Customer Info"),t.qZA(),t.TgZ(32,"div",18)(33,"span",12),t._uU(34,"Name: "),t.qZA(),t.TgZ(35,"span",19),t._uU(36),t.qZA()(),t.TgZ(37,"div",18)(38,"span",12),t._uU(39,"Email: "),t.qZA(),t.TgZ(40,"span",19),t._uU(41),t.qZA()(),t.TgZ(42,"div",18)(43,"span",12),t._uU(44,"Phone: "),t.qZA(),t.TgZ(45,"span",19),t._uU(46),t.qZA()()()(),t.TgZ(47,"div",5)(48,"div",20)(49,"h3",17),t._uU(50,"Shipping Info"),t.qZA(),t.TgZ(51,"div",18)(52,"span",12),t._uU(53,"Details: "),t.qZA(),t.TgZ(54,"span",19),t._uU(55),t.qZA()(),t.TgZ(56,"div",18)(57,"span",12),t._uU(58,"City: "),t.qZA(),t.TgZ(59,"span",19),t._uU(60),t.qZA()(),t.TgZ(61,"div",18)(62,"span",12),t._uU(63,"Phone: "),t.qZA(),t.TgZ(64,"span",19),t._uU(65),t.qZA()()()()()()(),t.TgZ(66,"div",21)(67,"table",22)(68,"thead")(69,"tr",23)(70,"th"),t._uU(71,"Name"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Price"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Quantity"),t.qZA()()(),t.TgZ(76,"tbody"),t.YNc(77,m,15,17,"tr",24),t.TgZ(78,"tr"),t._UZ(79,"td")(80,"td"),t.TgZ(81,"td",25),t._uU(82),t.ALo(83,"currency"),t.qZA()()()()()()),2&r){const e=a.$implicit;t.xp6(5),t.hij("Order ID: #",e.id,""),t.xp6(2),t.Oqu(t.lcZ(8,15,e.createdAt)),t.xp6(5),t.Oqu(e.paymentMethodType),t.xp6(6),t.Q6J("ngClass",t.WLB(20,p,e.isPaid,!e.isPaid)),t.xp6(1),t.hij(" ",e.isPaid?"true":"false"," "),t.xp6(4),t.Q6J("ngClass",t.WLB(23,p,e.isDelivered,!e.isDelivered)),t.xp6(1),t.hij(" ",e.isDelivered?"true":"false"," "),t.xp6(12),t.Oqu(e.user.name),t.xp6(5),t.Oqu(e.user.email),t.xp6(5),t.Oqu(e.user.phone),t.xp6(9),t.Oqu(e.shippingAddress.details),t.xp6(5),t.Oqu(e.shippingAddress.city),t.xp6(5),t.Oqu(e.shippingAddress.phone),t.xp6(12),t.Q6J("ngForOf",e.cartItems),t.xp6(5),t.hij("Total: ",t.xi3(83,17,e.totalOrderPrice,"EUR"),"")}}function A(r,a){if(1&r&&(t.ynx(0),t.YNc(1,Z,84,26,"section",2),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.ordersData)}}function f(r,a){1&r&&(t.TgZ(0,"div",31),t._UZ(1,"img",32),t.qZA())}let U=(()=>{class r{constructor(e,o){this._AuthService=e,this._ProductService=o,this.ordersData=[],this.userId=""}ngOnInit(){this._AuthService.userData.subscribe({next:e=>{null!=e&&(this.userId=e.id,this._ProductService.getUserOrders(this.userId).subscribe({next:o=>{this.ordersData=o,console.log(this.ordersData)}}))}})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(h.e),t.Y36(s.M))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["msg",""],["class","shadow p-4 rounded my-3 w-75 mx-auto my-4",4,"ngFor","ngForOf"],[1,"shadow","p-4","rounded","my-3","w-75","mx-auto","my-4"],[1,"row"],[1,"col-5"],[1,"fw-bolder","m-0"],[1,"text-body-tertiary","my-2","fw-semibold"],[1,"p-1","rounded","bg-dark-subtle","fw-bolder"],[1,"col-7"],[1,"d-flex","justify-content-around"],[1,"paid"],[1,"text-body-tertiary","fw-bolder"],[1,"p-1","rounded","fw-bolder",3,"ngClass"],[1,"deliv"],[1,"customer","mt-5"],[1,"cust-info"],[1,"h5","fw-bolder"],[1,"tag"],[1,"fw-bolder"],[1,"order-info"],[1,"border","border-3","border-light","rounded","mt-5"],[1,"table","mb-0","rounded"],[1,"table-light","fw-bolder"],[4,"ngFor","ngForOf"],[1,"bg-primary-subtle","fw-bolder"],[1,"d-flex","align-items-center","cursor-pointer",3,"routerLink"],[2,"width","40px",3,"src","alt"],[1,"ms-2","fw-bolder","font-sm"],[1,"w-75","mx-auto"],[1,"p-0","m-0"],[1,"d-flex","justify-content-center","align-items-center"],["src","./assets/images/cartttempty.jpg","height","500","alt","empty-cart"]],template:function(o,_){if(1&o&&(t.YNc(0,A,2,1,"ng-container",0),t.YNc(1,f,2,0,"ng-template",null,1,t.W1O)),2&o){const v=t.MAs(2);t.Q6J("ngIf",_.ordersData&&_.ordersData.length>0)("ngIfElse",v)}},dependencies:[n.ez,n.mk,n.sg,n.O5,n.H9,n.uU,c.r,u.rH],styles:["span[_ngcontent-%COMP%]{font-size:14px}"]})}return r})()},0:(g,d,i)=>{i.d(d,{M:()=>n});var u=i(4769),c=i(9862);let n=(()=>{class t{constructor(s){this._HttpClient=s,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(s=1){return this._HttpClient.get(this.baseUrl+`products?page=${s}`)}getProductsDetails(s){return this._HttpClient.get(this.baseUrl+`products/${s}`)}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getCategoryDetails(s){return this._HttpClient.get(this.baseUrl+`categories/${s}`)}getSubCategoriesToCat(s){return this._HttpClient.get(this.baseUrl+`categories/${s}/subcategories`)}getBrands(){return this._HttpClient.get(this.baseUrl+"brands")}getUserOrders(s){return this._HttpClient.get(this.baseUrl+`orders/user/${s}`)}static#t=this.\u0275fac=function(l){return new(l||t)(u.LFG(c.eN))};static#e=this.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);