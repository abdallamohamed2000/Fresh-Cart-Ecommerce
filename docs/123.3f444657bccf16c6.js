"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[123],{123:(F,_,n)=>{n.r(_),n.d(_,{UpdatepasswordComponent:()=>x});var a=n(95),m=n(6814),r=n(4769),c=n(1120),w=n(9410),f=n(2425);function g(s,d){1&s&&(r.TgZ(0,"p",17),r._uU(1,"currentPassword Is required"),r.qZA())}function P(s,d){if(1&s&&(r.TgZ(0,"div"),r.YNc(1,g,2,0,"p",16),r.qZA()),2&s){const e=r.oxw();let o;r.xp6(1),r.Q6J("ngIf",null==(o=e.updatePasswordForm.get("currentPassword"))?null:o.getError("required"))}}function h(s,d){1&s&&(r.TgZ(0,"p",17),r._uU(1,"password Is required"),r.qZA())}function v(s,d){1&s&&(r.TgZ(0,"p",17),r._uU(1,"password must start with upperCase then from 6 to 20"),r.qZA())}function U(s,d){if(1&s&&(r.TgZ(0,"div"),r.YNc(1,h,2,0,"p",16),r.YNc(2,v,2,0,"p",16),r.qZA()),2&s){const e=r.oxw();let o,t;r.xp6(1),r.Q6J("ngIf",null==(o=e.updatePasswordForm.get("password"))?null:o.getError("required")),r.xp6(1),r.Q6J("ngIf",null==(t=e.updatePasswordForm.get("password"))?null:t.getError("pattern"))}}function Z(s,d){1&s&&(r.TgZ(0,"p",17),r._uU(1,"rePassword Is required"),r.qZA())}function T(s,d){1&s&&(r.TgZ(0,"p",17),r._uU(1,"rePassword doesn't match"),r.qZA())}function A(s,d){if(1&s&&(r.TgZ(0,"div"),r.YNc(1,Z,2,0,"p",16),r.YNc(2,T,2,0,"p",16),r.qZA()),2&s){const e=r.oxw();let o,t;r.xp6(1),r.Q6J("ngIf",null==(o=e.updatePasswordForm.get("rePassword"))?null:o.getError("required")),r.xp6(1),r.Q6J("ngIf",null==(t=e.updatePasswordForm.get("rePassword"))?null:t.getError("mismatch"))}}function E(s,d){if(1&s&&(r.TgZ(0,"p",18),r._uU(1),r.qZA()),2&s){const e=r.oxw();r.xp6(1),r.Oqu(e.msgError)}}function I(s,d){1&s&&r._UZ(0,"i",19)}let x=(()=>{class s{constructor(e,o,t,p){this._FormBuilder=e,this._Router=o,this._AuthService=t,this._ToastrService=p,this.isLoading=!1,this.msgError="",this.updatePasswordForm=this._FormBuilder.group({currentPassword:["",[a.kI.required,a.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]],password:["",[a.kI.required,a.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]],rePassword:["",[a.kI.required]]},{validators:[this.confirmPassword]})}confirmPassword(e){let o=e.get("password"),t=e.get("rePassword");""==t?.value?t?.setErrors({required:!0}):o?.value!=t?.value&&t?.setErrors({mismatch:!0})}updatePassword(){this.updatePasswordForm.valid?(this.isLoading=!0,this._AuthService.updatePasswords(this.updatePasswordForm.value).subscribe({next:e=>{this.isLoading=!1,this._ToastrService.success(e.message),this._Router.navigate(["/login"])},error:e=>{this.isLoading=!1,this.msgError=e.error.errors.msg,console.log(e)}})):this.updatePasswordForm.markAllAsTouched()}static#r=this.\u0275fac=function(o){return new(o||s)(r.Y36(a.qu),r.Y36(c.F0),r.Y36(w.e),r.Y36(f._W))};static#s=this.\u0275cmp=r.Xpm({type:s,selectors:[["app-updatepassword"]],standalone:!0,features:[r.jDz],decls:26,vars:6,consts:[[1,"shadow","p-4","rounded","my-3","w-50","mx-auto","my-4"],[3,"formGroup","ngSubmit"],[1,"h3","fw-bolder"],["for","currentPassword"],["type","password","id","currentPassword","formControlName","currentPassword",1,"form-control"],["inputcurrentPassword",""],[4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["inputpassword",""],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],["inputrePassword",""],["class","text-error",4,"ngIf"],[1,"main-btn","mt-3","ms-auto","d-block"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"text-error"],[1,"fas","fa-spinner","fa-spin"]],template:function(o,t){if(1&o&&(r.TgZ(0,"section",0)(1,"form",1),r.NdJ("ngSubmit",function(){return t.updatePassword()}),r.TgZ(2,"h1",2),r._uU(3,"Update Password"),r.qZA(),r.TgZ(4,"div")(5,"label",3),r._uU(6,"Current Password"),r.qZA(),r._UZ(7,"input",4,5),r.YNc(9,P,2,1,"div",6),r.qZA(),r.TgZ(10,"div")(11,"label",7),r._uU(12,"New Password"),r.qZA(),r._UZ(13,"input",8,9),r.YNc(15,U,3,2,"div",6),r.qZA(),r.TgZ(16,"div")(17,"label",10),r._uU(18,"RePassword"),r.qZA(),r._UZ(19,"input",11,12),r.YNc(21,A,3,2,"div",6),r.qZA(),r.YNc(22,E,2,1,"p",13),r.TgZ(23,"button",14),r.YNc(24,I,1,0,"i",15),r._uU(25,"Update"),r.qZA()()()),2&o){const p=r.MAs(8),C=r.MAs(14),q=r.MAs(20);let u,i,l;r.xp6(1),r.Q6J("formGroup",t.updatePasswordForm),r.xp6(8),r.Q6J("ngIf",(null==(u=t.updatePasswordForm.get("currentPassword"))?null:u.errors)&&((null==(u=t.updatePasswordForm.get("currentPassword"))?null:u.touched)||p.value.length>0)),r.xp6(6),r.Q6J("ngIf",(null==(i=t.updatePasswordForm.get("password"))?null:i.errors)&&((null==(i=t.updatePasswordForm.get("password"))?null:i.touched)||C.value.length>0)),r.xp6(6),r.Q6J("ngIf",(null==(l=t.updatePasswordForm.get("rePassword"))?null:l.errors)&&((null==(l=t.updatePasswordForm.get("rePassword"))?null:l.touched)||q.value.length)),r.xp6(1),r.Q6J("ngIf",t.msgError),r.xp6(2),r.Q6J("ngIf",t.isLoading)}},dependencies:[m.ez,m.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return s})()}}]);