"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[560],{6560:(D,d,l)=>{l.r(d),l.d(d,{RegisterComponent:()=>M});var c=l(6814),s=l(95),e=l(4769),f=l(9410),h=l(1120);function Z(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"name Is required"),e.qZA())}function v(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"min-length 3"),e.qZA())}function T(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"max-length 20"),e.qZA())}function x(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Z,2,0,"p",23),e.YNc(2,v,2,0,"p",23),e.YNc(3,T,2,0,"p",23),e.qZA()),2&r){const n=e.oxw();let o,t,p;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("name"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("name"))?null:t.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(p=n.registerForm.get("name"))?null:p.getError("maxlength"))}}function A(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"email Is required"),e.qZA())}function q(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"email is invalid"),e.qZA())}function I(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,A,2,0,"p",23),e.YNc(2,q,2,0,"p",23),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("email"))?null:t.getError("email"))}}function w(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"phone Is required"),e.qZA())}function C(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"accept only egypt phone numbers"),e.qZA())}function E(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,w,2,0,"p",23),e.YNc(2,C,2,0,"p",23),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("phone"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("phone"))?null:t.getError("pattern"))}}function F(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"password Is required"),e.qZA())}function R(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"password must start with upperCase then from 6 to 20"),e.qZA())}function U(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,F,2,0,"p",23),e.YNc(2,R,2,0,"p",23),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("password"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("password"))?null:t.getError("pattern"))}}function P(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"rePassword Is required"),e.qZA())}function N(r,i){1&r&&(e.TgZ(0,"p",24),e._uU(1,"rePassword doesn't match"),e.qZA())}function J(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"p",23),e.YNc(2,N,2,0,"p",23),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("rePassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("rePassword"))?null:t.getError("mismatch"))}}function Y(r,i){1&r&&e._UZ(0,"i",25)}function Q(r,i){if(1&r&&(e.TgZ(0,"p",26),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Oqu(n.msgError)}}let M=(()=>{class r{constructor(n,o,t){this._AuthService=n,this._Router=o,this._FormBuilder=t,this.msgError="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(20)]],email:["",[s.kI.required,s.kI.email]],phone:["",[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)]],password:["",[s.kI.required,s.kI.pattern(/^[A-Z][a-z0-9]{6,20}$/)]],rePassword:[""]},{validators:[this.confirmPassword]})}confirmPassword(n){let o=n.get("password"),t=n.get("rePassword");""==t?.value?t?.setErrors({required:!0}):o?.value!=t?.value&&t?.setErrors({mismatch:!0})}handleForm(){this.registerForm.valid?(this.isLoading=!0,this._AuthService.setRegister(this.registerForm.value).subscribe({next:n=>{(n.message="success")&&(this.isLoading=!1,this._Router.navigate(["/login"]))},error:n=>{this.isLoading=!1,this.msgError=n.error.message,console.log(n.error)}})):this.registerForm.markAllAsTouched()}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(f.e),e.Y36(h.F0),e.Y36(s.qu))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:38,vars:8,consts:[[1,"shadow","p-4","rounded","my-3","w-50","mx-auto"],[1,"h3","fw-bolder","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-2"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["inputName",""],[4,"ngIf"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["inputEmail",""],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["inputPhone",""],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["inputPassword",""],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],["inputRepassword",""],[1,"main-btn","ms-auto","d-block"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","text-error",4,"ngIf"],["class","text-red",4,"ngIf"],[1,"text-red"],[1,"fas","fa-spinner","fa-spin"],[1,"text-error"]],template:function(o,t){if(1&o&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Register Now"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return t.handleForm()}),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Name :"),e.qZA(),e._UZ(7,"input",5,6),e.YNc(9,x,4,3,"div",7),e.qZA(),e.TgZ(10,"div",3)(11,"label",8),e._uU(12,"Email :"),e.qZA(),e._UZ(13,"input",9,10),e.YNc(15,I,3,2,"div",7),e.qZA(),e.TgZ(16,"div",3)(17,"label",11),e._uU(18,"Phone :"),e.qZA(),e._UZ(19,"input",12,13),e.YNc(21,E,3,2,"div",7),e.qZA(),e.TgZ(22,"div",3)(23,"label",14),e._uU(24,"Password :"),e.qZA(),e._UZ(25,"input",15,16),e.YNc(27,U,3,2,"div",7),e.qZA(),e.TgZ(28,"div",3)(29,"label",17),e._uU(30,"rePassword :"),e.qZA(),e._UZ(31,"input",18,19),e.YNc(33,J,3,2,"div",7),e.qZA(),e.TgZ(34,"button",20),e.YNc(35,Y,1,0,"i",21),e._uU(36," Register"),e.qZA(),e.YNc(37,Q,2,1,"p",22),e.qZA()()),2&o){const p=e.MAs(8),b=e.MAs(14),L=e.MAs(20),O=e.MAs(26),y=e.MAs(32);let _,m,g,a,u;e.xp6(3),e.Q6J("formGroup",t.registerForm),e.xp6(6),e.Q6J("ngIf",(null==(_=t.registerForm.get("name"))?null:_.errors)&&((null==(_=t.registerForm.get("name"))?null:_.touched)||p.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(m=t.registerForm.get("email"))?null:m.errors)&&((null==(m=t.registerForm.get("email"))?null:m.touched)||b.value.length)),e.xp6(6),e.Q6J("ngIf",(null==(g=t.registerForm.get("phone"))?null:g.errors)&&((null==(g=t.registerForm.get("phone"))?null:g.touched)||L.value.length)),e.xp6(6),e.Q6J("ngIf",(null==(a=t.registerForm.get("password"))?null:a.errors)&&((null==(a=t.registerForm.get("password"))?null:a.touched)||O.value.length)),e.xp6(6),e.Q6J("ngIf",(null==(u=t.registerForm.get("rePassword"))?null:u.errors)&&((null==(u=t.registerForm.get("rePassword"))?null:u.touched)||y.value.length)),e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(2),e.Q6J("ngIf",t.msgError)}},dependencies:[c.ez,c.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".text-red[_ngcontent-%COMP%]{color:#b40505;padding-top:2px}"]})}return r})()}}]);